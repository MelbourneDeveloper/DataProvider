users
|> filter(fn(row) => row.users.status = 'active' and row.users.age > 18 and row.users.country = 'US')
|> select(users.id, users.name, users.email)